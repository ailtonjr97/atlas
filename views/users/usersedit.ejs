<%- include('../partials/sidebar') %>
<link rel="stylesheet" href="/css/table.css" />
<link rel="stylesheet" href="/css/button8.css" />
<link rel="stylesheet" href="/css/files.css" />


<form action="/users/edituser/<%=user._id%>" method="POST" enctype="multipart/form-data">
  <div class="row" id='masterRow' style="max-width: 99%; margin-left: 1%">
    <div class="row mt-3">
      <div class="col d-flex justify-content-center">
        <img src="/users/photos/<%=user.photoName%>" alt="" style="border-radius: 5px; width: 300px; height: 300px;">
      </div>
    </div>
    <div class="row mt-3">
        <div class="col">
            <div class="form-floating">
              <textarea class="form-control" placeholder="<%=user.name%>" id="name" name="name"><%=user.name%></textarea>
              <label for="name">Name:</label>
            </div>
        </div>
        <div class="col">
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="username" placeholder="<%=user.username%>" name="username" value="<%=user.username%>">
                <label for="username">E-mail:</label>
              </div>
        </div>
    </div>
    <div class="row mt-1">
        <div class="col-lg">
            <div class="form-floating">
                <select class="form-select" id="branch" aria-label="Floating label" name="branch">
                    <option class='valor'><%=user.branch%></option>
                    <%branches.forEach((branch)=>{%>
                      <option class='valor'><%=branch.name%></option>
                    <%})%>
                </select>
                <label for="branch">Branch:</label>
            </div>
        </div>
        <div class="col">
            <div class="form-floating">
              <select class="form-select" id="department" aria-label="Floating label" name="department">
                <option class='valor'><%=user.department%></option>
                <%departments.forEach((department)=>{%>
                  <option class='valor'><%=department.name%></option>
                <%})%>
              </select>
            <label for="department">Department:</label>
            </div>
          </div>
    </div>
    <div class="row mt-2">
          <div class="col">
            <div class="form-floating">
              <select class="form-select" id="isAdmin" aria-label="Floating label" name="isAdmin">
                <option value="<%=user.isAdmin%>"><%=user.isAdmin%></option>
                <option value="False">No</option>
                <option value="True">Yes</option>
              </select>
            <label for="isAdmin">Is admin?:</label>
            </div>
          </div>
          <div class="col">
            <div class="form-floating">
              <select class="form-select" id="isActive" aria-label="Floating label" name="isActive">
                  <option value="<%=user.isActive%>"><%=user.isActive%></option>
                  <option value="False">No</option>
                  <option value="True">Yes</option>
              </select>
            <label for="isActive">Is active?:</label>
            </div>
          </div>
    </div>
    <div class="row mt-3">
      <div class="col">
        <label for="file">User Photo: </label>
        <input type="file" id="file" name="userPhoto" accept="image/png, image/jpeg" >
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col d-flex justify-content-center">
      <button type="submit" id='botaoSalva' class="btn btn-success">Save</button>
    </div>
  </div>
</form>
<%- include('../partials/footer') %>
